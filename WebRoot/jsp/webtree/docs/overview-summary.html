<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.0 Frameset//EN""http://www.w3.org/TR/REC-html40/frameset.dtd">
<!--NewPage-->
<HTML>
<HEAD>
<!-- Generated by javadoc on Mon Dec 09 10:48:16 EST 2002 -->
<TITLE>
WebTree Navigator API Documentation: Overview
</TITLE>
<LINK REL ="stylesheet" TYPE="text/css" HREF="stylesheet.css" TITLE="Style">
</HEAD>
<BODY BGCOLOR="white">

<!-- ========== START OF NAVBAR ========== -->
<A NAME="navbar_top"><!-- --></A>
<TABLE BORDER="0" WIDTH="100%" CELLPADDING="1" CELLSPACING="0">
<TR>
<TD COLSPAN=2 BGCOLOR="#EEEEFF" CLASS="NavBarCell1">
<A NAME="navbar_top_firstrow"><!-- --></A>
<TABLE BORDER="0" CELLPADDING="0" CELLSPACING="3">
  <TR ALIGN="center" VALIGN="top">
  <TD BGCOLOR="#FFFFFF" CLASS="NavBarCell1Rev"> &nbsp;<FONT CLASS="NavBarFont1Rev"><B>Overview</B></FONT>&nbsp;</TD>
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <FONT CLASS="NavBarFont1">Class</FONT>&nbsp;</TD>
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="overview-tree.html"><FONT CLASS="NavBarFont1"><B>Tree</B></FONT></A>&nbsp;</TD>
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="deprecated-list.html"><FONT CLASS="NavBarFont1"><B>Deprecated</B></FONT></A>&nbsp;</TD>
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="index-all.html"><FONT CLASS="NavBarFont1"><B>Index</B></FONT></A>&nbsp;</TD>
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="help-doc.html"><FONT CLASS="NavBarFont1"><B>Help</B></FONT></A>&nbsp;</TD>
  </TR>
</TABLE>
</TD>
<TD ALIGN="right" VALIGN="top" ROWSPAN=3><EM>
</EM>
</TD>
</TR>

<TR>
<TD BGCOLOR="white" CLASS="NavBarCell2"><FONT SIZE="-2">
&nbsp;PREV&nbsp;
&nbsp;NEXT</FONT></TD>
<TD BGCOLOR="white" CLASS="NavBarCell2"><FONT SIZE="-2">
  <A HREF="index.html" TARGET="_top"><B>FRAMES</B></A>  &nbsp;
&nbsp;<A HREF="overview-summary.html" TARGET="_top"><B>NO FRAMES</B></A></FONT></TD>
</TR>
</TABLE>
<!-- =========== END OF NAVBAR =========== -->

<HR>
WebTree Documentation
<P>
<B>See: </B>
<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<A HREF="#overview_description"><B>Description</B></A>
<P>
<A NAME="overview_description"><!-- --></A>
<P>
<H1>WebTree Documentation</h1>

Release 1.1 : 12/04/2002<BR>
Author : Marc Piparo (SAIC)

<H2>Overview</h2>
The WebTree consists of various java classes and JSPs used to build a GUI Representation of a tree hierarchy possessing the basic functionality for browsing a tree that a user would expect, in addition to some enhanced functionality, such as tree searches, and node highlighting.
<P>
The WebTree itself is a completely abstract component with no relation to any other projects.  Though the look and feel has been defined with an NCI appearance and functionality, this is simply a skin which can be modified.
<P>
The WebTree GUI consists of various frames, defined as follows: 
<P>
<UL>
<LI>Tree Browser Frame   - This frame is used for basic navigation of the tree,  such as expanding and collpasing folders.
<LI>Search Tree Frame    - This frame allows the user to enter a search term and search the tree, whole-word matching is optional.
<LI>Search Results Frame - This frame displays the results of the search.  If results are found, the node names are listed enabling you to select it, if an action was defined, as well as highlight the node in the tree browser frame.
</ul>
<P>
Additional frames are used for header graphics and images, which can be altered based on the skin definitions.
<P>
<h4>Document Sections</h4>
<UL>
<LI><A href="#howtoimplementabasictree">How To Implement a Basic Tree</a>
<LI><A href="#howitworks">How it Works</a>
<LI><A href="#advancedtreebuilding">Advanced Tree Building</a>
<LI><A href="#skins">Building Skins</a>
<LI><A href="#disclaimer">Software Disclaimer</a>
</ul>
<BR/>
<a name="howtoimplementabasictree"/>
<h2>How to Implement A Basic Tree</h2>
To implement a tree, a class must be built extending the <A href="gov/nih/nci/ncicb/webtree/WebTree.html">WebTree</a> abstract base class.  As a reference example, a current use of the WebTree has been implemented for the EVS database for displaying human and mouse organs and diagnoses.  This implementation can be found in the gov.nih.nci.ncicb.evs package.  
<P>
The only required method to implement in the WebTree class is the <A href="gov/nih/nci/ncicb/webtree/WebTree.html#getTree(java.util.Hashtable)">getTree(Hashtable params)</a> method.  This is the method that the WebTree jsp's will call to obtain a new tree structure.  This method should construct a tree structure using java swing <A href="http://java.sun.com/j2se/1.3/docs/api/javax/swing/tree/DefaultMutableTreeNode.html">DefaultMutableTreeNode</a> components, constructed with <A href="gov/nih/nci/ncicb/webtree/WebNode.html">WebNode</a> objects.  At a minimum each WebNode object should contain a unique id, and a name. This is all that is REQUIRED to build a basic tree.
<P>
For example implementation of the WebTree asbstract base class, refer to the 
<b>gov.nih.nci.ncicb.evs.EvsTrees</b> class.
<P>

<a name="howitworks"/>
<h2>How it Works</h2>
The WebTreeMain.jsp is the primary jsp to call to display the tree GUI.  It has one REQUIRED parameter, the 'treeClass' which needs to point to a class which has implemented the <A href="gov/nih/nci/ncicb/webtree/WebTree.html">WebTree</a> abstract base class.  The <A href="gov/nih/nci/ncicb/webtree/WebTree.html#getTree(java.util.Hashtable)">getTree(Hashtable params)</a> method is then called to generate the tree.
<P>
example URL:
<P>
<b><i>http://localhost/ncicb/webtree/WebTreeMain.jsp?treeClass=gov.nih.nci.ncicb.evs.EvsTrees</i></b>

<h3>Optional Tree Parameters:</h3>
An additional parameter to the WebTreeMain.jsp called 'treeParams' is used to construct a hashtable of parameters to pass to the <A href="gov/nih/nci/ncicb/webtree/WebTree.html#getTree(java.util.Hashtable)">getTree(Hashtable params)</a> you implement for your use.  The 'treeParams' syntax is as follows: key1:value1;key2:value2;key3:value3 etc...
<P>
example URL with tree parameters:
<P>
<b><i>http://localhost/ncicb/webtree/WebTreeMain.jsp?treeClass=gov.nih.nci.ncicb.evs.EvsTrees&treeParams=type:tissue;species:mouse;linkLevel:2;formName:exampleForm</i></b>

<h3>Optional Skin Parameter:</h3>
Another parameter the WebTreeMain.jsp may use is the 'skin' parameter.  This parameter should specify the directory name of a skin located in the skins directory in the webtree directory.  Omitting this parameter will cause the GUI to use the look and feel located in the 'default' skin directory.  <A href="#skins">Learn more about skins.</a>

<h3>Optional treeDirective Parameter:</h3>
This parameter has meaning only to the WebTree code itself and is used to provide future functionality to the tree. It is used to supply special instructions to the tree builder code that over-ride normal behavior.  For example the 'openToName' directive used for example as 'openToName:neoplasm' causes the tree to open to a specific level where the name defined, in this case, neoplasm, occurs.  Additional directives will be defined as future functionality is identified.

<a name="advancedtreebuilding"/>
<h2>Advanced Tree Building</h2>
Javadoc has been written for the primary interface classes you will use, <A href="gov/nih/nci/ncicb/webtree/WebTree.html">WebTree</a> and <A href="gov/nih/nci/ncicb/webtree/WebNode.html">WebNode</a>.  Please refer to this for detailed implementation information.  
<p>
After implementing the <A href="gov/nih/nci/ncicb/webtree/WebTree.html#getTree(java.util.Hashtable)">getTree(Hashtable params)</a> method, you may optionally implement the following methods for enhanced functionality.

<h3>Synonym/Alternate Term Searching:</h3>

The base implementation of the <A href="gov/nih/nci/ncicb/webtree/WebTree.html#getSynonyms(java.lang.String)">getSynonyms(String term)</a> method simply returns a null, thereby disabling this feature.  To enable, over-ride this method to perform customized synonym/alternate term searching.  The WebTree GUI will pass the user entered search term to this method.  This term can then be used for gathering additional terms to search for which are returned as a Vector object.
<P>
Synonyms/Alternate terms, if returned are then used by the search functionality.  In addition, these alternate terms are displayed in the search results frame, following the search results.
<P>
The EvsTrees implementation of the <A href="gov/nih/nci/ncicb/webtree/WebTree.html">WebTree</a> class has implemented this method and uses the NCI MetaPhrase Server for obtaining synonyms. You may refer to this implemenation to use for your own class if you'd like.  <b>gov.nih.nci.ncicb.evs.EvsTrees</b>.

<h3>Post Search Message:</h3>
After a search is performed, you may find it useful to optionally display a message to the user.  The <A href="gov/nih/nci/ncicb/webtree/WebTree.html#getPostSearchMsg()">getPostSearchMsg()</a> method is used for this purpose.  You may over-ride this method and return a String message that may optionally contain HTML tags.  This message will be displayed in the search results frame, following the search results, and alternate terms (if any).  It is useful for providing additional functionality to the GUI.  For example, the EVS implementation uses this message to give the user the option of manually entering a diagnosis.

<h3>Icon Over-ride:</h3>
Another advanced feature is the abiliy to over-ride the node icons and behavior that are normally automatically generated based on the the node attributes.  For example, WebNodes with children displayed are given an open folder icon, with action behavior to collapse the folder.  Just like WebNodes that have children but are not currently displayed are given a closed folder icon with the action behavior set to open the folder.  You may over-ride these inherit characteristics by building a <A href="gov/nih/nci/ncicb/webtree/WebNode.html">WebNode</a> with an icon action set using the <A href="gov/nih/nci/ncicb/webtree/WebNode.html#setIcon(java.lang.String, java.lang.String)">setIcon</a> method.  This method will allow you to supply a graphic image filename to use for the icon, and a URL action to execute when the icon is selected.  
<P>
Since this will over-ride the inherit icon behavior you must be sure to use this feature will caution.  Over-riding basic tree behavior can cause blocked paths and other abnormailities.  It is best used on leaf nodes with no children, or the root node. For example, the EVS implementation uses this feature to create a 'Show All Diagnoses' node in its diaganoses tree, when the tree supplied is only a subset of the entire diagnoses tree.
<p>

<a name="skins"/>
<h2>Building Skins</h2>
A skin is a group of html pages, css files, javascript files, and supporting graphic images grouped into a directory located in the webtree/skins directory.  The name of your directory becomes your skin name which you may indentify as a parameter when calling the WebTreeMain.jsp.  If no 'skin' parameter is defined, the WebTree GUI will use the 'default' skin.  In addition to providing the look and feel of the GUI, the skin contains a 'JavaScript.js' file which can be used for defining javascript functions that are global to the GUI.  These functions can be used by the URL actions defined in the <A href="gov/nih/nci/ncicb/webtree/WebNode.html">WebNode</a> objects.  Because of this, the skin is more than simply a look and feel, it contains functionality as well.  Keep this in mind when switching skins, remembering to ensure javscript functionality exists in the skin you are using.
<P>
<h3>Skin Files</h3>
The best way to start building a skin is to copy an existing one, and begin to modify it.  The following files are required:<P>
<ul>
<li>TreeHeader.html        - this file contains the html that is used for the overall header of the GUI.
<li>SearchHeader.html      - this file contains the html that is used as a header for the Search Entry frame.
<li>ResultsHeader.html     - this file contains the html that is used as a header for the Search Results frame.
<li>TreeBrowserHeader.html - this file contains the html that is used as a header for the tree browser frame.
<li>initSearchPage.html    - this file contains the html that is displayed in the Search Results frame before a search is performed.
<li>SearchTree.css         - this file contains the css style definitions used in the Search Entry frame.
<li>SearchResults.css      - this file contains the css style definitions used in the Search Results frame.
<li>TreeBrowser.cc         - this file contains the css style definitions used in the tree browser frame.
<li>JavaScript.js          - this file contains user defined javascript functions that will be avaiable for use in the scope of the window.  Functions defined in this file can therefore be accessed by any WebNode actions defined.
</ul>
<p>
Each skin directory should also contain an 'images' directory used for storing images used by the tree GUI.  Though it is not required, it is also recommended you store any images referenced in the html pages listed above in this directory.
<h3>Image Files</h3>
The following are files which are used by the WebTree GUI which may be modified for your skin.
<UL>
<li>folderClosed.gif     - the image used for a closed folder icon 
<li>folderOpen.gif       - the image used for an open folder icon (30px W/ 20px H)
<li>leaf.gif             - the image used for a leaf icon (a WebNode with no children)
<li>TreeHighlightUp.gif  - the image used for the highlight in tree button displayed in the search results.
<li>transparent.gif      - this image used for shimming and spacing, do not modify.
</ul>
It is desirable to maintain image size for the icon images at 30px Width by 20px Height, however not required.   
<P>
<a name="disclaimer"/>
<h2>Software Disclaimer</h2>
Copyright 2002 SAIC. This software was developed in conjunction with the National Cancer
Institute, and so to the extent government employees are co-authors, any rights in such works
shall be subject to Title 17 of the United States Code, section 105.
Redistribution and use in source and binary forms, with or without modification, are permitted
provided that the following conditions are met:

1. Redistributions of source code must retain the above copyright notice, this list of conditions
and the disclaimer of Article 3, below.  Redistributions in binary form must reproduce the above
copyright notice, this list of conditions and the following disclaimer in the documentation and/or
other materials provided with the distribution.

2.  The end-user documentation included with the redistribution, if any, must include the
following acknowledgment:
"This product includes software developed by the SAIC and the National Cancer
Institute."
If no such end-user documentation is to be included, this acknowledgment shall appear in the
software itself, wherever such third-party acknowledgments normally appear.

3. The names "The National Cancer Institute", "NCI" and "SAIC" must not be used to endorse or
promote products derived from this software.

4. This license does not authorize the incorporation of this software into any proprietary
programs.  This license does not authorize the recipient to use any trademarks owned by either
NCI or SAIC-Frederick.

5. THIS SOFTWARE IS PROVIDED "AS IS," AND ANY EXPRESSED OR IMPLIED
WARRANTIES, (INCLUDING, BUT NOT LIMITED TO, THE IMPLIED WARRANTIES OF
MERCHANTABILITY AND FITNESS FOR A PARTICULAR PURPOSE) ARE
DISCLAIMED.  IN NO EVENT SHALL THE NATIONAL CANCER INSTITUTE, SAIC, OR
THEIR AFFILIATES BE LIABLE FOR ANY DIRECT, INDIRECT, INCIDENTAL, SPECIAL,
EXEMPLARY, OR CONSEQUENTIAL DAMAGES (INCLUDING, BUT NOT LIMITED TO,
PROCUREMENT OF SUBSTITUTE GOODS OR SERVICES; LOSS OF USE, DATA, OR
PROFITS; OR BUSINESS INTERRUPTION) HOWEVER CAUSED AND ON ANY THEORY
OF LIABILITY, WHETHER IN CONTRACT, STRICT LIABILITY, OR TORT (INCLUDING
NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY OUT OF THE USE OF THIS
SOFTWARE, EVEN IF ADVISED OF THE POSSIBILITY OF SUCH DAMAGE.
<P>
<HR>

<!-- ========== START OF NAVBAR ========== -->
<A NAME="navbar_bottom"><!-- --></A>
<TABLE BORDER="0" WIDTH="100%" CELLPADDING="1" CELLSPACING="0">
<TR>
<TD COLSPAN=2 BGCOLOR="#EEEEFF" CLASS="NavBarCell1">
<A NAME="navbar_bottom_firstrow"><!-- --></A>
<TABLE BORDER="0" CELLPADDING="0" CELLSPACING="3">
  <TR ALIGN="center" VALIGN="top">
  <TD BGCOLOR="#FFFFFF" CLASS="NavBarCell1Rev"> &nbsp;<FONT CLASS="NavBarFont1Rev"><B>Overview</B></FONT>&nbsp;</TD>
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <FONT CLASS="NavBarFont1">Class</FONT>&nbsp;</TD>
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="overview-tree.html"><FONT CLASS="NavBarFont1"><B>Tree</B></FONT></A>&nbsp;</TD>
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="deprecated-list.html"><FONT CLASS="NavBarFont1"><B>Deprecated</B></FONT></A>&nbsp;</TD>
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="index-all.html"><FONT CLASS="NavBarFont1"><B>Index</B></FONT></A>&nbsp;</TD>
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="help-doc.html"><FONT CLASS="NavBarFont1"><B>Help</B></FONT></A>&nbsp;</TD>
  </TR>
</TABLE>
</TD>
<TD ALIGN="right" VALIGN="top" ROWSPAN=3><EM>
</EM>
</TD>
</TR>

<TR>
<TD BGCOLOR="white" CLASS="NavBarCell2"><FONT SIZE="-2">
&nbsp;PREV&nbsp;
&nbsp;NEXT</FONT></TD>
<TD BGCOLOR="white" CLASS="NavBarCell2"><FONT SIZE="-2">
  <A HREF="index.html" TARGET="_top"><B>FRAMES</B></A>  &nbsp;
&nbsp;<A HREF="overview-summary.html" TARGET="_top"><B>NO FRAMES</B></A></FONT></TD>
</TR>
</TABLE>
<!-- =========== END OF NAVBAR =========== -->

<HR>

</BODY>
</HTML>
